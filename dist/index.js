function e(e){if("string"!=typeof e&&"symbol"!=typeof e)throw new TypeError(" EVENTNAME expected: string | symbol;but invalid :"+e)}function t(e){if("function"!=typeof e)throw new TypeError(" EVENTLISTENER expected: (event?: any) => void;but invalid:"+e)}export default function n(){const i=function(){const n=new Map,i=new WeakMap;function r(e){let t=n.get(e);return t||(t=new Set,n.set(e,t)),t}function o(t){if(e(t),n.has(t)){r(t).clear()}}function s(t,i){if(e(t),n.has(t)){r(t).forEach(async e=>{e(i)})}}function f(n,i){e(n),t(i),r(n).add(i)}function c(n,i){e(n),t(i),r(n).delete(i)}return{[Symbol.toStringTag]:"EventEmitterTarget",listenerCount:function(t){if(e(t),n.has(t)){return r(t).size}return 0},clear:o,removeAllListeners:o,on:f,addListener:f,off:c,removeListener:c,once:function(n,r){e(n),t(r);let o=!1,s=i.get(r);if(!s){const e=t=>{c(n,e),o||(o=!0,r(t))};s=e,i.set(r,s)}f(n,s)},emit:s,dispatch:s,eventNames:function(){return[...n.keys()]},listeners:function(t){if(e(t),n.has(t)){return[...r(t)]}return[]}}}();return this instanceof n?(Object.assign(this,i),this):i}
//# sourceMappingURL=index.js.map
