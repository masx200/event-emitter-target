function t(t){if("string"!=typeof t&&"symbol"!=typeof t)throw new TypeError(" EVENTNAME expected: string | symbol;but invalid :"+t)}function e(t){if("function"!=typeof t)throw new TypeError(" EVENTLISTENER expected: (event?: any) => void;but invalid:"+t)}export default function n(){const i=function(){const n=new Map,i=new WeakMap;function r(t){let e=n.get(t);return e||(e=new Set,n.set(t,e)),e}function o(e){if(t(e),n.has(e)){r(e).clear()}}function s(e,i){if(t(e),n.has(e)){r(e).forEach(async t=>{t(i)})}}function c(n,i){t(n),e(i),r(n).add(i)}function f(n,i){t(n),e(i),r(n).delete(i)}return{[Symbol.toStringTag]:"EventEmitterTarget",listenerCount:function(e){if(t(e),n.has(e)){return r(e).size}return 0},clear:o,removeAllListeners:o,on:c,addListener:c,off:f,removeListener:f,once:function(n,r){t(n),e(r);let o=!1,s=i.get(r);if(!s){const t=e=>{f(n,t),o||(o=!0,r(e))};s=t,i.set(r,s)}c(n,s)},emit:s,dispatch:s,eventNames:function(){return[...n.keys()]},listeners:function(e){if(t(e),n.has(e)){return[...r(e)]}return[]}}}();return this&&this instanceof n?(Object.assign(this,i),this):Reflect.construct(n,[])}
//# sourceMappingURL=index.js.map
